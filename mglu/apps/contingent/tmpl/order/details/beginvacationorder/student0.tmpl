<!ATTR __conditions__ vacation resolution agreement country_id contract addendum reason !>
<!-- Generated by details-generator. Do not edit! -->
<script src='/tools/datecontrol.js'></script>
<br/>
Отпуск
с <&import('/widgets/date', 'vacation_from', vacation['from'])&>
по <&import('/widgets/date', 'vacation_till', vacation['till'])&>
<br/>
Причина
<select name='reason' onChange='reason_change();'>
	<option value='0'<% if reason == '0'.to_i then print " selected='1'" end %>>по медицинским показаниям</option>
	<option value='1'<% if reason == '1'.to_i then print " selected='1'" end %>>по семейным обстоятельствам</option>
	<option value='2'<% if reason == '2'.to_i then print " selected='1'" end %>>по уходу за ребенком до достижения им возраста 1,5 лет</option>
	<option value='3'<% if reason == '3'.to_i then print " selected='1'" end %>>по уходу за ребенком до достижения им возраста трех лет</option>
	<option value='4'<% if reason == '4'.to_i then print " selected='1'" end %>>в связи со стихийным бедствием</option>
	<option value='5'<% if reason == '5'.to_i then print " selected='1'" end %>>по беременности и родам</option>
	<option value='6'<% if reason == '6'.to_i then print " selected='1'" end %>>другие исключительные случаи</option>
</select>
<div id='reason_0' <% if reason != '0'.to_i then print " style='display: none'" end %>>
	Заключение клинико-экспертной комиссии
	&#x2116; <input type='text' name='resolution_num' value='<&resolution['num']&>' />
	от <&import('/widgets/date', 'resolution_date', resolution['date'])&>
</div>

<script language='javascript'><!--
var reason_old_shown = null;
function reason_convert(value)
{
	if (value == '0') return 'reason_0';
	if (value == '1') return 'reason_1';
	if (value == '2') return 'reason_2';
	if (value == '3') return 'reason_3';
	if (value == '4') return 'reason_4';
	if (value == '5') return 'reason_5';
	if (value == '6') return 'reason_6';

	return null;
}
function reason_change()
{
	var new_shown = document.mf.reason.value;
	if (reason_old_shown != '') {
		var oldobj = document.getElementById(reason_convert(reason_old_shown));
		if (oldobj)
			oldobj.style.display = 'none';
	}
	reason_old_shown = new_shown;
	var newobj = document.getElementById(reason_convert(new_shown));
	if (newobj)
		newobj.style.display = '';
}
reason_change();
//--></script>
<br/>
<% if __conditions__['contract'] then %>
Договор/контракт
&#x2116; <input type='text' name='agreement_num' value='<&agreement['num']&>' />
от <&import('/widgets/date', 'agreement_date', agreement['date'])&>
<% end %>
<br/>
<% if __conditions__['foreign'] then %>
Страна
<% classifier = Classifier::Country.new('country_id')
   classifier.select(country_id)
   classifier = import('/widgets/classifier/coded_select', classifier, true, false)
   classifier.display_empty = false if classifier.respond_to? 'display_empty='
   print classifier.to_html %>
<% end %>
<br/>
<% if __conditions__['foreign'] then %>
Дополнение
&#x2116; <input type='text' name='addendum_num' value='<&addendum['num']&>' />
от <&import('/widgets/date', 'addendum_date', addendum['date'])&>
<% end %>
<br/>
<% if __conditions__['foreign'] then %>
контракт/направление
&#x2116; <input type='text' name='contract_num' value='<&contract['num']&>' />
от <&import('/widgets/date', 'contract_date', contract['date'])&>
<% end %>
<br/>
